<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Solicitud de Facturas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 35px;  
      background-color: #f0fdf4;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #111827;
    }

    form {
      max-width: 100%;
      margin: -1%;
      background: white;
      padding: 100px;
      border-radius: 70px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    fieldset {
      border: 20px solid #22c55e;
      border-radius: 8px;
      margin-bottom: 20px;
      padding: 15px;
    }

    legend {
      font-weight: bold;
      color: #22c55e;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input, select {
      font-size: 25px; 
      width: 85%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th, td {
      border: 5px solid #ccc;
      font-size: 20px; 
      padding: 2px;
      text-align: center;
    }

    button {
      margin-top: 15px;
      padding: 15px 15px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    .btn-add {
      background-color: #22c55e;
      color: white;
    }

    .btn-add:hover {
      background-color: #15803d;
    }

    .btn-preview {
      background-color: #f59e0b;
      color: white;
      display: inline-block;
      margin: 20px 10px 0 0;
    }

    .btn-preview:hover {
      background-color: #d97706;
    }

    .btn-submit {
      background-color: #2563eb;
      color: white;
      display: inline-block;
      margin: 20px 0 0 0;
    }

    .btn-submit:hover {
      background-color: #1e3a8a;
    }

    .btn-back {
      background-color: #6b7280;
      color: white;
      display: inline-block;
      margin: 20px 10px 0 0;
    }

    .btn-back:hover {
      background-color: #4b5563;
    }

    .button-container {
      text-align: center;
      margin-top: 20px;
    }

    /* Estilos para la vista previa */
    .preview-container {
      display: none;
      max-width: 100%;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .preview-header {
      text-align: center;
      border-bottom: 2px solid #22c55e;
      padding-bottom: 20px;
      margin-bottom: 30px;
    }

    .preview-section {
      margin-bottom: 25px;
      padding: 15px;
      border-left: 4px solid #22c55e;
      background-color: #f8fafc;
    }

    .preview-section h3 {
      margin: 0 0 15px 0;
      color: #22c55e;
      font-size: 18px;
    }

    .preview-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      padding: 5px 0;
      border-bottom: 1px solid #e5e7eb;
    }

    .preview-row:last-child {
      border-bottom: none;
    }

    .preview-label {
      font-weight: bold;
      color: #374151;
      flex: 1;
    }

    .preview-value {
      flex: 2;
      text-align: right;
      color: #111827;
    }

    .preview-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    .preview-table th {
      background-color: #22c55e;
      color: white;
      padding: 12px;
      text-align: left;
    }

    .preview-table td {
      padding: 10px;
      border-bottom: 1px solid #e5e7eb;
    }

    .preview-table tr:nth-child(even) {
      background-color: #f9fafb;
    }

    .total-row {
      font-weight: bold;
      background-color: #dbeafe !important;
      color: #1e3a8a;
    }

    .hidden {
      display: none;
    }

    .visible {
      display: block;
    }
  </style>
</head>
<body>

  <h1>Solicitud de Facturas</h1>

  <!-- FORMULARIO PRINCIPAL -->
  <form id="formularioD" method="post">
      
    <!--DATOS DEL SOLICITANTE--> 
    <fieldset>
      <legend>Datos Personales</legend>
      <label for="nombre">Nombre de solicitante:</label>
      <input type="text" id="nombre" name="nombre" placeholder="Nombre" required>

      <label for="puesto">Puesto:</label>
      <select name="puesto" id="puesto" required>
        <option value="">--Selecciona un puesto--</option>
        <option value="Supervisor">Supervisor</option>
        <option value="Gerente">Gerente</option>  
        <option value="Sub Gerente">Sub Gerente</option>
        <option value="Otros">Otros</option>
      </select>
    </fieldset>
     
    <!--DATOS DE LA TIENDA-->   
    <fieldset>
      <legend>Datos de la Tienda</legend>
      <label for="tienda">Formato:</label>
      <select name="tienda" id="tienda" required>
        <option value="">--Selecciona un formato--</option>
        <option value="WALMART">WALMART</option>
        <option value="WALMART EXPRESS">WALMART EXPRESS</option>
        <option value="BODEGA AURRERA">BODEGA AURRERA</option>
      </select>

      <label for="serie">Serie:</label>
      <input type="text" id="serie" name="serie" placeholder="Serie" required>

      <label for="det">Determinante:</label>
      <input type="text" id="det" name="determinante" placeholder="--Determinante--" required>

      <label for="sucursal">Tienda:</label>
      <input type="text" id="sucursal" name="sucursal" placeholder="Sucursal" readonly>
    </fieldset>

    <!--FECHAS Y PERIODOS-->
    <fieldset>
      <legend>Datos de la Factura</legend>
      
      <label for="fechaHoy">Fecha de hoy</label>
      <input type="date" id="fechaHoy" name="fechaHoy" readonly>

      <div class="date-row">
        <div>
          <label for="startDate">Fecha de inicio</label>
          <input type="date" id="startDate" name="startDate" required />
        </div>
        <div>
          <label for="endDate">Fecha final</label>
          <input type="date" id="endDate" name="endDate" required />
        </div>
      </div>
    </fieldset>
                  
    <!-- Partidas -->
    <fieldset>
      <legend>Partidas</legend>
      <table id="tabla-partidas">
        <thead>
          <tr>
            <th>Descripcion</th>
            <th>Fecha</th>
            <th>Tipo de Servicio</th>
            <th>Cantidad</th>
            <th>Precio Unitario</th>
            <th>Acci√≥n</th>
          </tr>
        </thead>
        <tbody>
          <!-- Filas din√°micas -->
        </tbody>
      </table>
      <button type="button" class="btn-add" onclick="agregarPartida()">+ A√±adir Partida</button>
    </fieldset>

    <!-- Botones -->
    <div class="button-container">
      <button type="button" class="btn-preview" onclick="mostrarVistaPrevia()">üëÅÔ∏è Vista Previa</button>
     
    </div>
  </form>

  <!-- VISTA PREVIA -->
  <div id="vistaPrevia" class="preview-container">
    <div class="preview-header">
      <h1>üìã Vista Previa de Solicitud de Facturas</h1>
      <p>Revise los datos antes de enviar</p>
    </div>

    <div class="preview-section">
      <h3>üë§ Datos Personales</h3>
      <div class="preview-row">
        <span class="preview-label">Nombre del solicitante:</span>
        <span class="preview-value" id="preview-nombre">-</span>
      </div>
      <div class="preview-row">
        <span class="preview-label">Puesto:</span>
        <span class="preview-value" id="preview-puesto">-</span>
      </div>
    </div>

    <div class="preview-section">
      <h3>üè™ Datos de la Tienda</h3>
      <div class="preview-row">
        <span class="preview-label">Formato:</span>
        <span class="preview-value" id="preview-tienda">-</span>
      </div>
      <div class="preview-row">
        <span class="preview-label">Serie:</span>
        <span class="preview-value" id="preview-serie">-</span>
      </div>
      <div class="preview-row">
        <span class="preview-label">Determinante:</span>
        <span class="preview-value" id="preview-determinante">-</span>
      </div>
      <div class="preview-row">
        <span class="preview-label">Tienda:</span>
        <span class="preview-value" id="preview-sucursal">-</span>
      </div>
    </div>

    <div class="preview-section">
      <h3>üìÖ Datos de la Factura</h3>
      <div class="preview-row">
        <span class="preview-label">Fecha de hoy:</span>
        <span class="preview-value" id="preview-fechaHoy">-</span>
      </div>
      <div class="preview-row">
        <span class="preview-label">Per√≠odo:</span>
        <span class="preview-value" id="preview-periodo">-</span>
      </div>
    </div>
      
    <div class="preview-section">
      <h3>üì¶ Partidas</h3>
      <table class="preview-table" id="preview-partidas">
        <thead>
          <tr>
            <th>Descripci√≥n</th>
            <th>Fecha</th>
            <th>Tipo de Servicio</th>
            <th>Cantidad</th>
            <th>Precio Unit.</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <!-- Se llenar√° din√°micamente -->
        </tbody>
      </table>
      <div style="text-align: right; margin-top: 15px; font-size: 18px; font-weight: bold; color: #2563eb;">
        Total General: $<span id="preview-total-general">0.00</span>
      </div>
    </div>

    <div class="button-container">
      <button type="button" class="btn-back" onclick="volverAlFormulario()">‚¨ÖÔ∏è Volver al Formulario</button>
      <button type="button" class="btn-submit" onclick="enviarFormulario()">üì§ Confirmar y Enviar</button>
    </div>
  </div>

  <p id="status"></p>

  <script>
      
    // A√ëADIR PARTIDAS
    function agregarPartida() {
      const tabla = document.getElementById("tabla-partidas").getElementsByTagName("tbody")[0];
      const nuevaFila = tabla.insertRow();

      nuevaFila.innerHTML = `
        <td><input type="text" name="descripcion[]" required></td>
        <td><input type="date" name="fechaSer[]" required></td>
        <td>
          <select name="tipoServicio[]" required>
            <option value="">--Selecciona un Servicio--</option>
            <option value="SPOT - CAMIONETA 750">ZONA A - SPOT - CAMIONETA 750</option>
            <option value="SPOT - CAMIONETA 750">ZONA B - SPOT - CAMIONETA 750</option>
            <option value="SPOT - SEDAN">ZONA A - SPOT - SEDAN</option>
            <option value="SPOT - SEDAN">ZONA B - SPOT - SEDAN</option>
            <option value="MEDIA JORNADA - CAMIONETA 750">ZONA A - MEDIA JORNADA - CAMIONETA 750</option>
            <option value="MEDIA JORNADA - CAMIONETA 750">ZONA B - MEDIA JORNADA - CAMIONETA 750</option>
            <option value="HORAS EXTRAS">HORAS EXTRAS</option>
            <option value="ESTACIONAMIENTOS">ESTACIONAMIENTOS</option>
          </select>
        </td>
        <td><input type="number" name="cantidad[]" min="1" required></td>
        <td><input type="number" name="precio[]" step="0.01" required></td>
        <td><button type="button" onclick="eliminarFila(this)">üóëÔ∏è</button></td>
      `;
    }

    function eliminarFila(boton) {
      const fila = boton.closest("tr");
      fila.remove();
    }

    // VISTA PREVIA
    function mostrarVistaPrevia() {
      // Validar que haya al menos una partida
      const partidas = document.querySelectorAll('#tabla-partidas tbody tr');
      if (partidas.length === 0) {
        alert('‚ö†Ô∏è Debe agregar al menos una partida antes de ver la vista previa.');
        return;
      }

      // Llenar datos personales
      document.getElementById('preview-nombre').textContent = 
        document.getElementById('nombre').value || '-';
      document.getElementById('preview-puesto').textContent = 
        document.getElementById('puesto').value || '-';

      // Llenar datos de tienda
      document.getElementById('preview-tienda').textContent = 
        document.getElementById('tienda').value || '-';
      document.getElementById('preview-serie').textContent = 
        document.getElementById('serie').value || '-';
      document.getElementById('preview-determinante').textContent = 
        document.getElementById('det').value || '-';
      document.getElementById('preview-sucursal').textContent = 
        document.getElementById('sucursal').value || '-';

      // Llenar datos de factura
      document.getElementById('preview-fechaHoy').textContent = 
        document.getElementById('fechaHoy').value || '-';
      
      const fechaInicio = document.getElementById('startDate').value;
      const fechaFin = document.getElementById('endDate').value;
      document.getElementById('preview-periodo').textContent = 
        (fechaInicio && fechaFin) ? `${fechaInicio} al ${fechaFin}` : '-';

      // Llenar partidas
      const previewPartidas = document.querySelector('#preview-partidas tbody');
      previewPartidas.innerHTML = '';
      
      let totalGeneral = 0;

      partidas.forEach((fila, index) => {
        const descripcion = fila.querySelector('input[name="descripcion[]"]').value;
        const fecha = fila.querySelector('input[name="fechaSer[]"]').value;
        const servicio = fila.querySelector('select[name="tipoServicio[]"]').value;
        const cantidad = parseFloat(fila.querySelector('input[name="cantidad[]"]').value) || 0;
        const precio = parseFloat(fila.querySelector('input[name="precio[]"]').value) || 0;
        const total = cantidad * precio;
        totalGeneral += total;

        const nuevaFila = previewPartidas.insertRow();
        nuevaFila.innerHTML = `
          <td>${descripcion || '-'}</td>
          <td>${fecha || '-'}</td>
          <td>${servicio || '-'}</td>
          <td>${cantidad}</td>
          <td>$${precio.toFixed(2)}</td>
          <td>$${total.toFixed(2)}</td>
        `;
      });

      document.getElementById('preview-total-general').textContent = totalGeneral.toFixed(2);

      // Mostrar vista previa y ocultar formulario
      document.getElementById('formularioD').classList.add('hidden');
      document.getElementById('vistaPrevia').classList.add('visible');
      
      // Scroll al top
      window.scrollTo(0, 0);
    }

    function volverAlFormulario() {
      document.getElementById('vistaPrevia').classList.remove('visible');
      document.getElementById('formularioD').classList.remove('hidden');
      window.scrollTo(0, 0);
    }

    function enviarFormulario() {
      // Volver al formulario y enviarlo
      volverAlFormulario();
      document.getElementById('formularioD').dispatchEvent(new Event('submit'));
    }

    // ENV√çO FORMULARIO A SHEETDB
    const form = document.getElementById('formularioD');
    const status = document.getElementById('status');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const formData = new FormData(form);
      const data = { data: [] };

      // Obtener todas las partidas
      const descripciones = formData.getAll('descripcion[]');
      const fechas = formData.getAll('fechaSer[]');
      const servicios = formData.getAll('tipoServicio[]');
      const cantidades = formData.getAll('cantidad[]');
      const precios = formData.getAll('precio[]');

      for (let i = 0; i < descripciones.length; i++) {
        data.data.push({
          nombre: formData.get('nombre'),
          puesto: formData.get('puesto'),
          tienda: formData.get('tienda'),
          sucursal: formData.get('sucursal'),
          determinante: formData.get('determinante'),
          serie: formData.get('serie'),
          fechaHoy: formData.get('fechaHoy'),
          startDate: formData.get('startDate'),
          endDate: formData.get('endDate'),
          Iddqd: formData.get('Iddqd'),
          descripcion: descripciones[i],
          fechaSer: fechas[i],
          tipoServicio: servicios[i],
          cantidad: cantidades[i],
          precio: precios[i]
        });
      }

      // Mostrar mensaje de env√≠o
      status.textContent = "üì§ Enviando datos...";
      status.style.color = "#f59e0b";

      fetch('https://sheetdb.io/api/v1/rc8owfn8qk691', { 
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(response => response.json())
      .then(result => {
        status.textContent = "‚úÖ Datos enviados correctamente.";
        status.style.color = "#22c55e";
        form.reset();
        document.querySelector("#tabla-partidas tbody").innerHTML = "";
        document.getElementById('fechaHoy').value = hoy; // reestablece fecha
      })
      .catch(error => {
        status.textContent = "‚ùå Error al enviar: " + error;
        status.style.color = "#ef4444";
      });
    });

    // FECHA DE HOY AUTOM√ÅTICA
    const hoy = new Date().toISOString().split('T')[0];
    document.getElementById('fechaHoy').value = hoy;

    // SERIES AUTOM√ÅTICAS
    const tiendaSelect = document.getElementById('tienda');
    const serieInput = document.getElementById('serie');
    const formatos = {
      'WALMART': 'WM',
      'WALMART EXPRESS': 'WE',
      'BODEGA AURRERA': 'WA'
    };

    tiendaSelect.addEventListener('change', function () {
      serieInput.value = formatos[this.value] || '';
    });

    // TIENDAS
    const detInput = document.getElementById('det');
    const sucursalInput = document.getElementById('sucursal');
    const tiendas = {
      '2349': 'WM COSTERA 2349',
  '1067': 'WM DIAMANTE 1067',
  '3505': 'WM POLIGONO SUR 3505',
  '3851': 'WM AEROPUERTO CDMX 3851',
  '1083': 'WM PORTAL SAN ANGEL 1083',
  '1460': 'WM CUEMANCO 1460',
  '1584': 'WM ESMERALDA 1584',
  '2689': 'WM FELIX CUEVAS 2689',
  '1489': 'WM HIPERPLAZA TEXCOCO 1489',
  '3876': 'WM LAS AGUILAS 3876',
  '3790': 'WM METEPEC 3790',
  '2464': 'WM MIRAMONTES 2464',
  '3176': 'WM OJO DE AGUA 3176',
  '4628': 'WM PARQUE LAS ANTENAS 4628',
  '1770': 'WM PATIO SANTA FE 1770',
  '2644': 'WM PATIO TLALPAN 2644',
  '3852': 'WM PLATEROS 3852',
  '2033': 'WM PLAZA ORIENTE 2033',
  '1513': 'WM PORTAL CENTRO 1513',
  '4018': 'WM SANTA MARIA COACALCO 4018',
  '2347': 'WM TLAHUAC 2347',
  '1656': 'WM CLUB DE GOLF 1656',
  '1054': 'WM COLIMA NORTE 1054',
  '1512': 'WM TERCER ANILLO 1512',
  '2380': 'WM CIUDAD OBREGON 2380',
  '2379': 'WM CULIACAN TRES RIOS 2379',
  '1016': 'WM MERIDA NORTE 1016',
  '4048': 'WM PENSIONES 4048',
  '4073': 'WM POLIGONO 4073',
  '3554': 'WM MIL CUMBRES MORELIA 3554',
  '3114': 'WM CUMBRES MTY 3114',
  '1622': 'WM GOMEZ MORIN 1622',
  '2676': 'WM LA FE 2676',
  '1139': 'WM LA HUASTECA 1139',
  '1833': 'WM LA PASTORA 1833',
  '2034': 'WM LAS TORRES 2034',
  '2076': 'WM MIGUEL ALEMAN 2076',
  '3239': 'WM PASEO REAL 3239',
  '2179': 'WM SAN NICOLAS 2179',
  '2378': 'WM TAMPICO AVENIDA 2378',
  '2044': 'WM VALLE ORIENTE 2044',
  '2431': 'WM TANGAMANGA 2431',
  '4546': 'WM CAMPESTRE ZACATECAS 4546',
  '2432': 'WM FELIPE PESCADOR 2432',
  '2381': 'WM MORELIA LA HUERTA 2381',
  '3356': 'WM LAZARO CARDENAS 3356',
  '2734': 'WM PLAZA ANA ZAMORA 2734',
  '3872': 'WM BALBUENA 3872',
  '3533': 'WM GUADIANA 3533',
  '1027': 'WM SENDERO 1027',
  '3263': 'WM PILARES 3263',
  '3858': 'WM CUAJIMALPA 3858',
  '3845': 'WM UNIVERSIDAD 3845',
  '3857': 'WM VILLA COAPA 3857',
  '1195': 'WM GALERIA LAS TORRES 1195',
  '2448': 'WM PUNTA DEL ESTE 2448',
  '1621': 'WM LA ANTORCHA DE LEON 1621',
  '3718': 'WM EJERCITO MEXICANO MZN 3718',
  '4062': 'WM MANZANILLO 4062',
  '4549': 'WM LOS MOCHIS JIQUILPAN 4549',
  '1804': 'WM MACRO PLAZA OAXACA 1804',
  '1585': 'WM LA ISLA 1585',
  '4658': 'WM VIA ALTA 4658',
  '3745': 'WM CLOUTHIER 3745',
  '2645': 'WM ESCOBEDO NORTE 2645',
  '2383': 'WM PASEO DE MONTEJO 2383',
  '2384': 'WM CANCUN LABNA 2384',
  '2765': 'WM SAN JOSE DEL CABO 2765',
  '1003': 'WM PLAYA DEL CARMEN 1003',
  '4138': 'WM VILLA JUAREZ 4138',
  '3503': 'WM ECATEPEC CENTRO 3503',
  '1462': 'WM LERMA 1462',
  '3051': 'WM CENTRIKA 3051',
  '3720': 'WM LINCOLN 3720',
  '3358': 'WM CORDILLERAS 3358',
  '3253': 'WM ALTABRISA 3253',
  '1205': 'WM ALIJADORES 1205',
  '4025': 'WM MADERO 4025',
  '3632': 'WM COMALCALCO 3632',
  '2302': 'WM CHIHUAHUA 2302',
  '3794': 'WM ACUEDUCTO DE GUADALUPE 3794',
  '3005': 'WM PLAZA ARAGON 3005',
  '1108': 'WM ALTOZANO 1108',
  '3355': 'WM ESTADIO DE MORELIA 3355',
  '1171': 'WM SAN JOSE TECAMAC 1171',
  '1423': 'WM SANTA ELENA 1423',
  '3848': 'WM TAXQUE√ëA 3848',
  '1684': 'WM CHILPANCINGO 1684',
  '5700': 'WM MEXICO 68 5700',
  '3768': 'WA VILLA COAPA 3768',
  '3795': 'WA TEXCOCO 3795',
  '3805': 'WA SANTA LUCIA 3805',
  '3803': 'WA OBSERVATORIO 3803',
  '3760': 'WA LOMAS ESTRELLA 3760',
  '3786': 'WA SANTA FE 3786',
  '6067': 'WC CEDIS MONTERREY 6067',
  '1084': 'WM NICHUPTE 1084',
  '3874': 'WA CANTIL 3874',
  '4547': 'WM EDUARDO MOLINA 4547',
  '3774': 'WA FERROCARRIL HIDALGO 3774',
  '2525': 'WA RIO HONDO 2525',
  '3798': 'WA SANTA CECILIA 3798',
  '3725': 'WA TOLUCA PILARES 3725',
  '3871': 'WA PLAZA CUAUTITLAN 3871',
  '3870': 'WA MORELIA 3870',
  '3765': 'WA ECATEPEC 3765',
  '3625': 'WA DIAZ BERLANGA 3625',
  '2738': 'WA MITRAS 2738',
  '3779': 'WA ACAPULCO COSTERA 3779',
  '1553': 'WA HUINALA MONTERREY 1553',
  '5730': 'WA CHICOLOAPAN 5730',
  '3506': 'WM SIMBOLOS PATRIOS OAX 3506',
  '3764': 'WA IZTAPALAPA 3764',
  '3770': 'WA PANTITLAN 3770',
  '3753': 'WA PLAZA ARAGON 3753',
  '3888': 'WA VIA MORELOS 3888',
  '1659': 'WM CAMPESTRE MERIDA 1659',
  '3799': 'WA ANGELES IZTAPALAPA 3799',
  '4067': 'WA VILLA GARCIA 4067',
  '1024': 'WA VILLA ALVAREZ 1024',
  '4028': 'WA SANTA ROSA APODACA 4028',
  '3443': 'WA CLOUTHIER 3443',
  '4113': 'WA CIUDAD DEL CARMEN 4113',
  '4139': 'WM CAMPECHE 4139',
  '4548': 'WM ELOY CAVAZOS 4548',
  '4887': 'WM PROGRESO 4887',
  '2433': 'WM TORRES LANDA 2433',
  '2343': 'WM TOLLOCAN 2343',
  '3860': 'WA ZARAGOZA 3860',
  '1634': 'WA CUAUTZINGO CHALCO 1634',
  '5061': 'WE MERIDA ORIENTE 5061',
  '2871': 'WA VIENTO NUEVO 2871',
  '1201': 'WA SAN AGUSTIN 1201',
  '1001': 'WA SAN BUENAVENTURA 1001',
  '6735': 'WM PUERTA TLATELOLCO 6735',
  '2345': 'WM PLAZA TEPEYAC 2345',
  '2737': 'WA ETZATLAN 2737',
  '5702': 'WM SANTIN 5702',
  '3763': 'WA MARIANO ESCOBEDO 3763',
  '1682': 'WM SALVADOR NAVA 1682',
  '3561': 'WA DURANGO 3561',
  '2544': 'WA PRIMO DE VERDAD 2544',
  '1931': 'WA LERDO 1931',
  '1660': 'WA GUAMUCHIL 1660',
  '4066': 'WA BARRANCOS 4066',
  '2996': 'WA SANALONA 2996',
  '1105': 'WA VILLA JUAREZ 1105',
  '3613': 'WA CAMINO DE SERI 3613',
  '4126': 'WA BLVD ZACATECAS 4126',
  '2586': 'WA CIUDAD OBREGON 2586',
  '4743': 'WA LAZARO CARDENAS ARPTO 4743',
  '3555': 'WM PERIFERICO MERIDA 3555',
  '3014': 'WM EL EDEN 3014',
  '5765': 'WM LAS AMERICAS 5765',
  '1204': 'WM LOS MOCHIS SUR 1204',
  '3071': 'WM FRANCISCO VILLA 3071',
  '1179': 'WA MORELIA NORTE III 1179',
  '3622': 'WM LA ROSITA 3622',
  '2529': 'WA MIELERAS 2529',
  '1902': 'WM AEROPUERTO TAMPICO 1902',
  '2325': 'WM COLINAS DEL PADRE 2325',
  '1927': 'WA PUERTA DEL SOL 1927',
  '5728': 'WM NORTE 2000 5728',
  '3605': 'WM COMBO ELECTRICISTAS 3605',
  '2204': 'WM MARINA MAZATLAN 2204',
  '1974': 'WM BOSQUES DE RENTERIA 1974',
  '1112': 'WE LOMAS 1112',
  '3053': 'WE MONTEJO 3053',
  '3896': 'WE FUENTES DEL PEDREGAL 3896',
  '1823': 'WA JAR DE LA PRIMAVERA 1823',
  '5462': 'WE LORETO 5462',
  '4195': 'WA ZACAPU 4195',
  '0194': 'WA LOS PUERTOS 0194',
  '3932': 'WA CARRETERA REYNOSA 3932',
  '4809': 'WM APODACA NORTE 4809',
  '3033': 'WM FUENTES MARES 3033',
  '3800': 'WM GUADALUPE 3800',
  '4819': 'WM LAS FUENTES 4819',
  '1617': 'WM NOVENA 1617',
  '2304': 'WM MEXICALI 2304',
  '2023': 'WM MACRO PLAZA TIJUANA 2023',
  '1613': 'WM PLAYAS 1613',
  '4155': 'WM 2000 4155',
  '1147': 'WE MORELIA 1147',
  '2766': 'WE FELIX CUEVAS 2766',
  '4156': 'WM COLA DE BALLENA 4156',
  '1623': 'WM CD CUAUHTEMOC 1623',
  '2665': 'WA SANTA FE TIJUANA 2665',
  '1828': 'WA ACOLMAN 1828',
  '4170': 'WE METEPEC 4170',
  '2377': 'WM EJERCITO NACIONAL 2377',
  '3879': 'WM COLIMA GALVAN 3879',
  '4817': 'WM EL FRESNO 4817',
  '4011': 'WM TIJUANA HIPODROMO 4011',
  '1470': 'WA SAN PEDRO COAHUILA 1470',
  '4196': 'WA SABINAS 4196',
  '5731': 'WA PIEDRAS NEGRAS 5731',
  '5041': 'WM NUEVO MEXICALI 5041',
  '1425': 'WM BAHIA DE BANDERAS 1425',
  '3015': 'WM ENSENADA 3015',
  '3119': 'WA CAMINO REAL 3119',
  '1130': 'WM BELISARIO DOMINGUEZ 1130',
  '1160': 'WE TECNOLOGICO 1160',
  '5043': 'WA CHAC MOOL 5043',
  '4026': 'WM GALERIAS DEL VALLE 4026',
  '1203': 'WM SUPER PLAZA ECATEPEC 1203',
  '3881': 'WE SANTA FE 3881',
  '2895': 'WE LA MARINA 2895',
  '5687': 'WM DELTA GUANAJUATO 5687',
  '2735': 'WM LA CRUZ 2735',
  '5241': 'WM SAN PATRICIO 5241',
  '3775': 'WA AURORA 3775',
  '3861': 'WM REVOLUCION 3861',
  '1022': 'WM LOPEZ MATEOS 1022',
  '3348': 'WM BATAN 3348',
  '5115': 'WE CAMINO A SANTA RITA 5115',
  '1018': 'WA TEMIXCO II 1018',
  '1404': 'WM GALERIAS SALTILLO 1404',
  '3837': 'WE LUIS CABRERA 3837',
  '3397': 'WE MAYORAZGO 3397',
  '3832': 'WE HOMERO 3832',
  '4187': 'WM PABELLON ROSARITO 4187',
  '5081': 'WA CALZADA DEL SOL 5081',
  '1468': 'WA APATZINGAN 1468',
  '2050': 'WM URUAPAN 2050',
  '5764': 'WM TORRES SUR 5764',
  '2049': 'WM ZARAGOZA 2049',
  '2089': 'WM PLAZA MONUMENTAL 2089',
  '5799': 'WA ZIHUATANEJO 5799',
  '3806': 'WA RENACIMIENTO 3806',
  '2465': 'WM REFORMA SALTILLO 2465',
  '1124': 'WA CORALES 1124',
  '1004': 'WA TALLERES 1004',
  '2476': 'WA NAHIL 2476',
  '3670': 'WA PLAYA MAYA 3670',
  '1665': 'WA VILLAS OTOCH 1665',
  '3362': 'WA TOPO CHICO 3362',
  '1033': 'WA CADEREYTA 1033',
  '3734': 'WA EL CONCHI 3734',
  '1401': 'WA LOS SAUCES 1401',
  '3977': 'WM PORTAL CENTENARIO 3977',
  '4922': 'WM PURISIMA 4922',
  '3915': 'WE AV. TOLUCA 3915',
  '3030': 'WM MORELOS 3030',
  '3916': 'WA IZTAPALAPA NORTE 3916',
  '1685': 'WM AEROPUERTO CD CARMEN 1685',
  '1044': 'WM SAN MARCOS 1044',
  '4778': 'WA CAJEME 4778',
  '5464': 'WA ALTAMIRA CENTRO 5464',
  '2457': 'WA ALTAMIRA SUR 2457',
  '3623': 'WA LOS FRESNOS 3623',
  '2000': 'WA MAZATLAN 2000',
  '5658': 'WA MONUMENTO COLOSIO 5658',
  '1075': 'WE PROVIDENCIA 1075',
  '1049': 'WA ESTADIO CULIACAN 1049',
  '5791': 'WM ZINACANTEPEC 5791',
  '3839': 'WE GIRASOLES 3839',
  '3069': 'WM LOS CABOS 3069',
  '5465': 'WA LAS TORRES CULIACAN 5465',
  '3907': 'WA COLOSO II 3907',
  '3199': 'WE PASEOS DE TAXQUE√ëA 3199',
  '3536': 'WA MANZANILLO 3536',
  '3524': 'WA SALAGUA 3524',
  '4109': 'WM PUERTA TEXCOCO 4109',
  '3819': 'WE DEL VALLE 3819',
  '4157': 'WA PERIFERICO CUAUTITLAN 4157',
  '3065': 'WA BOSQUES DEL VALLE 3065',
  '3791': 'WA FUENTES DEL VALLE 3791',
  '3813': 'WE CHURUBUSCO 3813',
  '5825': 'WM ALFREDO DEL MAZO 5825',
  '3818': 'WE REVOLUCION 3818',
  '3840': 'WE PATIO PEDREGAL 3840',
  '3810': 'WE SENA 3810',
  '3296': 'WA VILLAS DE AYOTLA 3296',
  '2072': 'WA PORTAL CHALCO 2072',
  '3891': 'WA LOS REYES 3891',
  '4198': 'WA EL TENAYO 4198',
  '1686': 'WM LA CIMA 1686',
  '2097': 'WA PUEBLO NUEVO 2097',
  '3675': 'WA AYUTLA DE LOS LIBRES 3675',
  '1541': 'WA MIGUEL ALEMAN 1541',
  '3046': 'WA MARAVATIO 3046',
  '3034': 'WE FUENTES DE LAS LOMAS 3034',
  '2303': 'WM HERMOSILLO 2303',
  '3841': 'WE LILAS 3841',
  '3863': 'WM PERIFERICO SUR 3863',
  '4017': 'WA TOLUCA AZTECAS 4017',
  '4993': 'WA CALLE 50 MERIDA 4993',
  '5732': 'WA TECOMAN 5732',
  '1140': 'WM SAN PEDRO 1140',
  '2053': 'WM COLOSIO 2053',
  '5914': 'WC CEDIS ECOMMERCE 5914',
  '2284': 'WM PORTAL CUAUTITLAN 2284',
  '2591': 'WA TAMPICO 2591',
  '1118': 'WE CENTRAL INTERLOMAS 1118',
  '5112': 'WM PETEMPICH 5112',
  '3750': 'WA AUTOPISTA MEXICO QRO 3750',
  '1089': 'WA SANTA ROSA 1089',
  '2074': 'WM CARRETERA 57 2074',
  '3504': 'WM JESUS DEL MONTE 3504',
  '5352': 'WM GOMEZ PALACIO 5352',
  '2024': 'WA EJERCITO MEXICANO 2024',
  '2869': 'WA ZUAZUA 2869',
  '3843': 'WE DIVISION DEL NORTE 3843',
  '3076': 'WA SALINA CRUZ 3076',
  '4125': 'WA TERAN 4125',
  '3304': 'WA CARRETERA VILLA FLORES 3304',
  '1005': 'WA KABAH 1005',
  '3827': 'WE PERIFERICO 3827',
  '3073': 'WA MULTIPLAZA REAL 3073',
  '6068': 'WC CEDIS GUADALAJARA 6068',
  '3630': 'WM ADELITAS 3630',
  '2540': 'WM VICTORIA CENTRO 2540',
  '2382': 'WM INTERLOMAS 2382',
  '1388': 'WA NICHUPTE 1388',
  '1110': 'WA PLAZA ECATEPEC 1110',
  '1810': 'WM SAN ISIDRO 1810',
  '4071': 'WM PATRIA 4071',
  '3692': 'WA VALLE DE LINCOLN 3692',
  '3399': 'WA COZUMEL 3399',
  '1038': 'WA CHETUMAL 1038',
  '3608': 'WM MIRAMAR 3608',
  '1550': 'WM MACROPLAZA VALLARTA 1550',
  '1667': 'WA CABORCA 1667',
  '5119': 'WA CABORCA NORTE 5119',
  '4199': 'WA SAN LUIS RIO COLORADO 4199',
  '3100': 'WA QUINTAS DEL REFUGIO 3100',
  '2919': 'WA EL AGUILA 2919',
  '1034': 'WA HERMOSILLO NORTE 1034',
  '4669': 'WA MUSARO 4669',
  '2243': 'WA NAVOJOA 2243',
  '3406': 'WA PUERTO PE√ëASCO 3406',
  '5240': 'WM NAVOJOA 5240',
  '1478': 'WA MAGDALENA DE KINO 1478',
  '4068': 'WA AGUA PRIETA 4068',
  '3038': 'WA CD MANTE 3038',
  '2223': 'WA REYNOSA BALCONES 2223',
  '3103': 'WA LAURO VILLAR 3103',
  '4016': 'WA PLAYA DEL CARMEN 4016',
  '5163': 'WA NOGALES SUR 5163',
  '2073': 'WA NOGALES 2073',
  '4815': 'WA CAMINO A CANANEA 4815',
  '3102': 'WA CD CONSTITUCION 3102',
  '1824': 'WA LOS CABOS 1824',
  '3485': 'WA OTAY 3485',
  '5062': 'WA SANTA ANITA CADEREYTA 5062',
  '3298': 'WA ESCOBEDO 3298',
  '2026': 'WA ACAPULCO UNIVERSIDAD 2026',
  '1821': 'WA SAN LORENZO 1821',
  '3831': 'WE COYOACAN 3831',
  '3817': 'WE GEORGIA 3817',
  '5817': 'WE AXOMIATLA 5817',
  '1829': 'WA ALMOLOYA 1829',
  '3801': 'WA SANTO DOMINGO 3801',
  '4902': 'WA SAN JUAN ZUAZUA 4902',
  '0058': 'WA SANTA MONICA 0058',
  '5712': 'WA SOLIDARIDAD 5712',
  '5661': 'WA LOMAS DE LA PRESA 5661',
  '2899': 'WA HERMOSILLO OTE 2899',
  '3514': 'WA SAHUARO 3514',
  '4158': 'WA OBREGON PONIENTE 4158',
  '1341': 'WA ESPERANZA 1341',
  '4703': 'WA MIRAMAR 4703',
  '1235': 'WA LOMAS DE SANTA MONICA 1235',
  '3833': 'WE JARDINES DEL PEDREGAL 3833',
  '2075': 'WM MU√ëOZ 2075',
  '1887': 'WA EXP GLORIETA MORELOS 1887',
  '1711': 'WA EXP LOS REMEDIOS 1711',
  '6202': 'WA RANCHO BLANCO 6202',
  '5796': 'WE PUERTA DE HIERRO 5796',
  '1501': 'WA OZUMBA 1501',
  '1586': 'WA CIENEGA DE FLORES 1586',
  '3654': 'WA VILLA DEL CARBON 3654',
  '3043': 'WA ZINACANTEPEC 3043',
  '3828': 'WE LOS MORALES 3828',
  '1109': 'WA PATIO AYOTLA 1109',
  '5687': 'WM DELTA 5687',
  '2220': 'WE RUBEN DARIO 2220',
  '2240': 'WA SANTA CRUZ 2240',
  '1142': 'WA TOTOLTEPEC 1142',
  '3782': 'WA CENTENARIO 3782',
  '3047': 'WA JILOTEPEC 3047',
  '1236': 'WA ATLACOMULCO 1236',
  '4540': 'WM 16 DE SEPTIEMBRE 4540',
  '3719': 'WM MATAMOROS 3719',
  '3778': 'WA XOCHIMILCO 3778',
  '3878': 'WM NI√ëO OBRERO 3878',
  '2062': 'WA PLAYA DEL CARMEN NTE 2062',
  '3829': 'WE BOSQUES DE LAS LOMAS 3829',
  '4956': 'WE CIRCUITO METROPOLITANO 4956',
  '3941': 'WE TULUM 3941',
  '4558': 'WA TECAMAC 4558',
  '3755': 'WA TACUBAYA 3755',
  '3721': 'WM AVILA CAMACHO 3721',
  '3757': 'WA SAN JUAN DE ARAGON 3757',
  '3921': 'WE VISTA HERMOSA 3921',
  '3211': 'WM INDEPENDENCIA 3211',
  '5064': 'WM CABO MARINA 5064',
  '1528': 'WE CUMBRES 1528',
  '3026': 'WA GOBERNADORA 3026',
  '5291': 'WA PASEO MONTERREY 5291',
  '1028': 'WA BOURLOG 1028',
  '5297': 'WM LOLA BELTRAN 5297',
  '3400': 'WA DELICIAS 3400',
  '3956': 'WM CALANDRIAS TESISTAN 3956',
  '6338': 'WM FRANCISCO VILLAREAL 6338',
  '5662': 'WA TENANCINGO 5662',
  '2221': 'WA ALPINISMO 2221',
  '5334': 'WM CIUDAD ACU√ëA 5334',
  '1119': 'WM COLON 1119',
  '5176': 'WM VI√ëA ANTIGUA 5176',
  '3769': 'WA INSURGENTES NORTE 3769',
  '3930': 'WA LAS PINTAS 3930',
  '1019': 'WA SAN PEDRITO 1019',
  '3789': 'WA REVOLUCION 3789',
  '3360': 'WA TOLUQUILLA 8 DE JULIO 3360',
  '2528': 'WA FLORES MAGON 2528',
  '3527': 'WA CHETUMAL NORTE 3527',
  '2767': 'WA DOCTORES 2767',
  '3098': 'WA GUADALUPANA 3098',
  '5375': 'WA PESQUERIA NORTE 5375',
  '4354': 'WM QUIROGA 4354',
  '5733': 'WA PLAZA CHIMALHUACAN 5733',
  '3766': 'WA LA VIGA 3766',
  '2741': 'WA OTILIO GONZALEZ 2741',
  '5770': 'WA ZUMPANGO 5770',
  '3177': 'WE LA JOYA 3177',
  '2830': 'WE J. DE LA MONTA√ëA 2830',
  '1785': 'WA NORTE MATAMOROS 1785',
  '0862': 'WA JARACHINA 0862',
  '1100': 'WE LAS TORRES 1100',
  '4666': 'WE IZCALLI 4666',
  '3054': 'WE SANTA ANITA 3054',
  '3628': 'WA SAN MIGUEL 3628',
  '1246': 'WA SALINAS VICTORIA 1246',
  '1519': 'WA TLALMANALCO 1519',
  '1955': 'WA NAPOLO 1955',
  '1006': 'WA HOSPITAL GENERAL 1006',
  '3099': 'WA COLIMA CENTRO 3099',
  '1419': 'WA NUEVO MEXICALI 1419',
  '4520': 'WA SAN JOSE VISTA HERMOSA 4520',
  '1400': 'WA JOYAS DE COACALCO 1400',
  '3061': 'WM COMBO PACHUCA 3061',
  '5331': 'WM PORVENIR JUAREZ 5331',
  '1008': 'WA HEROES TECAMAC 1008',
  '2141': 'WA XONACATLAN 2141',
  '4154': 'WM PERINORTE 4154',
  '5300': 'WM COLOSIO 5300',
  '5296': 'WM SAN REMO 5296',
  '3031': 'WM CELAYA IRRIGACION 3031',
  '5801': 'WM FUNDIDORES LOPEZ M 5801',
  '3150': 'WA CAPULTITLAN 3150',
  '3152': 'WA SAN PABLO AUTOPAN 3152',
  '2092': 'WE CAMPESTRE AGUASCALIEN 2092',
  '4164': 'WA CIHUATLAN 4164',
  '2363': 'WA CRUZ DE ELOTA 2363',
  '3784': 'WA PRIMERO DE MAYO 3784',
  '1103': 'WA PER. SUR HERMOSILLO 1103',
  '3816': 'WE PEDREGAL 3816',
  '1900': 'WA DOS RIOS 1900',
  '5304': 'WA LA CRESPA 5304',
  '5171': 'WM CIUDAD VALLES 5171',
  '2948': 'WA JIBARITO 2948',
  '3480': 'WE WTC DAKOTA 3480',
  '2225': 'WA TIJUANA SUR 2225',
  '3796': 'WA MAYORAZGO 3796',
  '3783': 'WA SANTA CLARA 3783',
  '1234': 'WA APODACA SUR 1234',
  '3016': 'WM MACRO PLAZA HEROES TECA3016',
  '1943': 'WA FRACC LAS AMERICAS 1943',
  '3040': 'WA JUAN PABLO 3040',
  '3022': 'WA PROGRESO 3022',
  '1492': 'WE OLIPLAZA 1492',
  '5469': 'WM RIO DE LOS REMEDIOS 5469',
  '2782': 'WA OCOYOACAC 2782',
  '3363': 'WA TLALCICALPAN 3363',
  '2029': 'WA ITZAES 2029',
  '5162': 'WA VILLAS DEL SOL 5162',
  '5350': 'WM CD GUZMAN SUR 5350',
  '5798': 'WA SANTA MARGARITA 5798',
  '3665': 'WA CANUTILLO 3665',
  '3144': 'WA PRADO II 3144',
  '2375': 'WM TORREON 2375',
  '0889': 'WM CUSPIDE SANTA ROSA 0889',
  '1017': 'WA QUETZALCOATL 1017',
  '3213': 'WA LA PRESA 3213',
  '5292': 'WA LA PAZ 5292',
  '3846': 'WM BUENAVISTA 3846',
  '2466': 'WM CUITLAHUAC 2466',
  '6105': 'WC CEDIS PARCEL MERIDA 6105',
  '2053': 'WC CEDIS PARC HERMOSILLO 2053',
  '1867': 'WA FELIX GALVAN 1867',
  '5855': 'WM LAS ALAMEDAS 5855',
  '7487': 'WC CEDIS PARCEL CULIACAN 7487',
  '3511': 'WM PORTAL TLALNEPANTLA 3511',
  '3751': 'WA INSURGENTES SUR 3751',
  '3850': 'WM ECHEGARAY 3850',
  '861': 'WA CIMA VICTORIA 861',
  '2346': 'WM GALERIAS 2346',
  '2811': 'WA AXOCHIAPAN 2811',
  '3228': 'WA MANTO DE LA VIRGEN 3228',
  '2211': 'WM MAHATMA GANDI 2211',
  '5238': 'WM SILAO NORTE 5238',
  '3629': 'WE ECHEGARAY 3629',
  '3666': 'WA XALAPA 3666',
  '3220': 'WA ROMITA 3220',
  '3716': 'WA JARAL DEL PROGRESO 3716',
  '3804': 'WA HILARIO MEDINA 3804',
  '2851': 'WA HILAMAS 2851',
  '4012': 'WM JARDINES DEL SOL 4012',
  '2091': 'WM EL SAUZ 2091',
  '2054': 'WA TERRANOVA 2054',
  '1627': 'WE SAN ISIDRO 1627',
  '4545': 'WM RIO VERDE 4545',
  '1053': 'WE ACOXPA 1053',
  '6510': 'WM PUERTO PE√ëASCO 6510',
  '5771': 'WA CERVANTES 5771',
  '5046': 'WE PUNTA ZERO 5046',
  '1020': 'WE MANUEL ACU√ëA 1020',
  '6586': 'SM SAM¬¥S CLUB CULIACAN 6586',
  '2994': 'WA DUARTE 2994',
  '2344': 'WM LOMAS TOREO 2344',
  '3879': 'WC CEDIS PARCEL COLIMA 3879',
  '2945': 'WA VALLADOLID 2945',
  '1539': 'WA ALAMO 1539',
  '2136': 'WA BOULEVARD MORELOS 2136',
  '5055': 'WM CONCORDIA 5055',
  '2023': 'WM MACROPLAZA INSURGENTES 2023',
  '1015': 'WM IRAPUATO 1015',
  '4075': 'WA PATRICIO TRUEBA 4075',
  '1037': 'WA CAMPECHE ESTE 1037',
  '2108': 'WA KALA 2108',
  '2505': 'WA ANILLO VIAL 2505'
    };

    detInput.addEventListener('input', function () {
      sucursalInput.value = tiendas[this.value] || '';
    });

      
  </script>
      
</body>
</html>
